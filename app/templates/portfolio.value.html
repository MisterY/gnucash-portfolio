{% extends "layout.html" %} {% block title %}Portfolio Value{% endblock %} {% block content %}
<h1>Portfolio Value</h1>
<table class="table table-striped table-sm">
    <caption>
        <!-- Portfolio Value -->
    </caption>
    <thead class="thead-dark">
        <th>Symbol</th>
        <th>Exchange</th>
        <th>Shares</th>
        <th>Avg.Price</th>
        <th>Price</th>
        <th>Currency</th>
        <th>Cost Basis</th>
        <th>Gain/Loss</th>
        <th>Gain/Loss %</th>
        <th>Balance</th>
        <th>Income</th>
    </thead>
    <tbody>
        {% for row in stock_rows %}
        <tr>
            <td>{{ row.symbol }}</td>
            <td>{{ row.exchange }}</td>
            <td class="text-right">{{ "{:,.2f}".format(row.shares_no) }}</td>
            <td class="text-right">{{ "{:,.2f}".format(row.avg_price) }}</td>
            <!-- <td>base_currency</td> -->
            <td class="text-right">{{ row.price }}</td>
            <td>{{ row.currency }}</td>
            <td class="text-right">{{ "{:,.2f}".format(row.cost) }}</td>
            
            <td class="text-right {% if row.gain_loss < 0 %}text-danger{% endif %}">{{ "{:,.2f}".format(row.gain_loss) }}</td>

            <!-- gain/loss percentage -->
            {% if row.gain_loss_perc >= 0 %}
            <td class="text-right">{{ "{:,.2f}".format(row.gain_loss_perc) }}</td>
            {% else %}
            <td class="text-right text-danger">{{ "{:,.2f}".format(row.gain_loss_perc) }}</td>
            {% endif %}

            <td class="text-right">{{ "{:,.2f}".format(row.balance) }}</td>
            <td class="text-right">{{ "{:,.2f}".format(row.income) }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}