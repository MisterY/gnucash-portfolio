{% extends "layout.html" %}

{% block title %}Asset Allocation{% endblock %}

{% block content %}
<h1>Asset Allocation</h1>
<p>Value: {{ model.currency }} {{ "{:,.2f}".format(model.allocation.value) }}</p>
<ul>
{%- for asset_class in model["allocation"].classes recursive %}
    <li>
        {{ asset_class.name }},
        alloc: {{ "{:,.2f}".format(asset_class.allocation) }}%, 
        allocated: {{ "{:,.2f}".format(asset_class.curr_alloc) }}%,
        diff: {{ "{:,.2f}".format(asset_class.alloc_diff) }},
        diff %: {{ "{:,.2f}".format(asset_class.alloc_diff_perc) }}%,
        value: {{ "{:,.2f}".format(asset_class.value) }},
        alloc.value: {{ "{:,.2f}".format(asset_class.curr_value) }},
        diff.value: {{ "{:,.2f}".format(asset_class.alloc_diff) }}
    </li>
    {%- if asset_class.classes is defined %}
        <ul>
        {{ loop(asset_class.classes) }}
        </ul>
    {%- endif %}
    {#
    {%- if asset_class.stocks is defined %}
        <ul>
        {% for stock in asset_class.stocks %}
        <li>
            {{ stock.symbol }},
            {{ stock.quantity }} * {{ stock.price }} = 
            {{ "{:,.2f}".format(stock.value) }}
        </li>
        {% endfor %}
        </ul>
    {%- endif %}
    #}

{%- endfor %}
</ul>
{% endblock %}